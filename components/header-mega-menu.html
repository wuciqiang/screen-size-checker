<header class="header-v2">
    <!-- Mobile Menu Toggle (Outside container for proper layering) -->
    <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle mobile menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <div class="header-container">
        <!-- Logo Section -->
        <div class="logo">
            <div class="logo-icon">üìê</div>
            <div class="logo-title">
                <a href="{{home_url}}" data-i18n="site_title">Screen Size Checker</a>
            </div>
        </div>

        <!-- Main Navigation -->
        <nav class="main-nav" id="main-nav">
            <ul class="nav-menu">
                <!-- Home -->
                <li class="nav-item">
                    <a href="{{home_url}}" class="nav-link{{#if is_home}} active{{/if}}" data-i18n="nav_home">Home</a>
                </li>

                <!-- Tools Mega Menu -->
                <li class="nav-item has-megamenu">
                    <a href="#" class="nav-link{{#if is_tools}} active{{/if}}" data-i18n="nav_tools">Tools</a>
                    <div class="mega-menu mega-menu-tools">
                        <div class="mega-menu-content">
                            <!-- Column 1: Calculators -->
                            <div class="mega-menu-column">
                                <h4 class="column-title">
                                    <span class="column-icon">üßÆ</span>
                                    <span data-i18n="tools_calculators">Calculators</span>
                                </h4>
                                <ul class="column-links">
                                    <li><a href="{{lang_prefix}}/devices/ppi-calculator" data-i18n="tool_ppi">PPI Calculator</a></li>
                                    <li><a href="{{lang_prefix}}/devices/aspect-ratio-calculator" data-i18n="tool_aspect">Aspect Ratio Calculator</a></li>
                                    <li><a href="{{lang_prefix}}/devices/projection-calculator" data-i18n="tool_projection">Projector Calculator</a></li>
                                </ul>
                            </div>

                            <!-- Column 2: Testing & Comparison -->
                            <div class="mega-menu-column">
                                <h4 class="column-title">
                                    <span class="column-icon">üîç</span>
                                    <span data-i18n="tools_testing">Testing & Comparison</span>
                                </h4>
                                <ul class="column-links">
                                    <li><a href="{{lang_prefix}}/devices/compare" data-i18n="tool_compare">Compare Screens</a></li>
                                    <li><a href="{{lang_prefix}}/devices/responsive-tester" data-i18n="tool_responsive">Responsive Tester</a></li>
                                </ul>
                            </div>

                            <!-- Column 3: Reference -->
                            <div class="mega-menu-column">
                                <h4 class="column-title">
                                    <span class="column-icon">üìñ</span>
                                    <span data-i18n="tools_reference">Reference</span>
                                </h4>
                                <ul class="column-links">
                                    <li><a href="{{lang_prefix}}/devices/standard-resolutions" data-i18n="standard_resolutions">Standard Resolutions</a></li>
                                </ul>
                            </div>

                            <!-- Column 4: Featured -->
                            <div class="mega-menu-column featured-column">
                                <h4 class="column-title">
                                    <span class="column-icon">‚≠ê</span>
                                    <span data-i18n="popular_tools">Most Popular</span>
                                </h4>
                                <div class="featured-tools">
                                    <a href="{{lang_prefix}}/devices/compare" class="featured-tool">
                                        <div class="tool-badge">‚öñÔ∏è</div>
                                        <div class="tool-info">
                                            <div class="tool-name" data-i18n="compare_screens">Compare Screens</div>
                                            <div class="tool-stats" data-i18n="most_used">Most Used</div>
                                        </div>
                                    </a>
                                    <a href="{{lang_prefix}}/devices/ppi-calculator" class="featured-tool">
                                        <div class="tool-badge">üî¢</div>
                                        <div class="tool-info">
                                            <div class="tool-name" data-i18n="ppi_calculator">PPI Calculator</div>
                                            <div class="tool-stats" data-i18n="essential">Essential</div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- Devices Mega Menu -->
                <li class="nav-item has-megamenu">
                    <a href="#" class="nav-link{{#if is_devices}} active{{/if}}" data-i18n="nav_devices">Devices</a>
                    <div class="mega-menu mega-menu-devices">
                        <div class="mega-menu-content">
                            <!-- Column 1: Smartphones -->
                            <div class="mega-menu-column">
                                <h4 class="column-title">
                                    <span class="column-icon">üì±</span>
                                    <span data-i18n="devices_phones">Smartphones</span>
                                </h4>
                                <ul class="column-links">
                                    <li><a href="{{lang_prefix}}/devices/iphone-viewport-sizes" data-i18n="devices_iphone">iPhone</a></li>
                                    <li><a href="{{lang_prefix}}/devices/android-viewport-sizes" data-i18n="devices_android">Android</a></li>
                                </ul>
                            </div>

                            <!-- Column 2: Tablets -->
                            <div class="mega-menu-column">
                                <h4 class="column-title">
                                    <span class="column-icon">üíª</span>
                                    <span data-i18n="devices_tablets">Tablets</span>
                                </h4>
                                <ul class="column-links">
                                    <li><a href="{{lang_prefix}}/devices/ipad-viewport-sizes" data-i18n="devices_ipad">iPad</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- Gaming Hub Mega Menu -->
                <li class="nav-item has-megamenu">
                    <a href="#" class="nav-link{{#if is_gaming}} active{{/if}}" data-i18n="nav_gaming">Gaming</a>
                    <div class="mega-menu mega-menu-gaming">
                        <div class="mega-menu-content">
                            <!-- Column 1: Gaming Guides -->
                            <div class="mega-menu-column">
                                <h4 class="column-title">
                                    <span class="column-icon">üéÆ</span>
                                    <span data-i18n="gaming_guides">Gaming Guides</span>
                                </h4>
                                <ul class="column-links">
                                    <li><a href="{{lang_prefix}}/hub/best-gaming-resolution-2025" data-i18n="gaming_resolution">Best Gaming Resolution 2025</a></li>
                                    <li><a href="{{lang_prefix}}/hub/hdr-gaming-monitor-guide" data-i18n="gaming_hdr_guide">HDR Gaming Monitor Guide</a></li>
                                </ul>
                            </div>

                            <!-- Column 2: Comparisons -->
                            <div class="mega-menu-column">
                                <h4 class="column-title">
                                    <span class="column-icon">üìä</span>
                                    <span data-i18n="gaming_comparisons">Comparisons</span>
                                </h4>
                                <ul class="column-links">
                                    <li><a href="{{lang_prefix}}/hub/1080p-vs-1440p-gaming" data-i18n="gaming_1080p_vs_1440p">1080p vs 1440p Gaming</a></li>
                                    <li><a href="{{lang_prefix}}/hub/1440p-vs-4k-gaming" data-i18n="gaming_1440p_vs_4k">1440p vs 4K Gaming</a></li>
                                    <li><a href="{{lang_prefix}}/hub/144hz-vs-240hz-gaming" data-i18n="gaming_144hz_240hz">144Hz vs 240Hz Gaming</a></li>
                                    <li><a href="{{lang_prefix}}/hub/ultrawide-vs-dual-monitor-gaming" data-i18n="gaming_ultrawide_dual">Ultrawide vs Dual Monitor</a></li>
                                    <li><a href="{{lang_prefix}}/hub/ips-vs-tn-vs-va-gaming" data-i18n="gaming_panel_types">IPS vs TN vs VA</a></li>
                                    <li><a href="{{lang_prefix}}/hub/gaming-monitor-vs-tv" data-i18n="gaming_monitor_tv">Gaming Monitor vs TV</a></li>
                                    <li><a href="{{lang_prefix}}/hub/curved-vs-flat-monitor-gaming" data-i18n="gaming_curved_flat">Curved vs Flat Monitor</a></li>
                                    <li><a href="{{lang_prefix}}/hub/g-sync-vs-freesync-gaming" data-i18n="gaming_sync_tech">G-Sync vs FreeSync</a></li>
                                    <li><a href="{{lang_prefix}}/hub/best-monitor-size-fps" data-i18n="gaming_monitor_fps">Best Monitor Size for FPS</a></li>
                                    <li><a href="{{lang_prefix}}/hub/gaming-monitor-size-guide" data-i18n="gaming_monitor_size">Gaming Monitor Size Guide</a></li>
                                </ul>
                            </div>

                            <!-- Column 3: Featured -->
                            <div class="mega-menu-column featured-column">
                                <h4 class="column-title">
                                    <span class="column-icon">‚≠ê</span>
                                    <span data-i18n="gaming_featured">Featured</span>
                                </h4>
                                <div class="featured-tools">
                                    <a href="{{lang_prefix}}/hub/best-gaming-resolution-2025" class="featured-tool">
                                        <div class="tool-badge">üéØ</div>
                                        <div class="tool-info">
                                            <div class="tool-name">Gaming Resolution Guide</div>
                                            <div class="tool-stats">Complete Guide</div>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </li>

                <!-- Blog Link -->
                <li class="nav-item">
                    <a href="{{blog_url}}" class="nav-link{{#if is_blog}} active{{/if}}" data-i18n="nav_blog">Blog</a>
                </li>
            </ul>

            <!-- Right Side Actions -->
            <div class="nav-actions">
                <button class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
                    <span class="theme-icon">üåô</span>
                </button>
                <button class="language-selector" id="language-modal-trigger" aria-label="Select language">
                    <span class="flag-icon">üåê</span>
                    <span class="current-language">{{lang_code}}</span>
                </button>
            </div>
        </nav>
    </div>
</header>
