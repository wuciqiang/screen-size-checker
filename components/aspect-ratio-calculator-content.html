<!-- HowTo Structured Data - Will be updated by i18n -->
<script type="application/ld+json" id="structured-data">
{
  "@context": "https://schema.org",
  "@type": "HowTo",
  "name": "How to Use Aspect Ratio Calculator",
  "description": "Learn how to use the online aspect ratio calculator to calculate and convert different screen ratios while maintaining proper proportions for images and videos.",
  "image": {
    "@type": "ImageObject",
    "url": "https://screensize.cc/images/aspect-ratio-calculator-guide.jpg",
    "width": 1200,
    "height": 630
  },
  "totalTime": "PT2M",
  "estimatedCost": {
    "@type": "MonetaryAmount",
    "currency": "USD",
    "value": "0"
  },
  "supply": [
    {
      "@type": "HowToSupply",
      "name": "Web Browser"
    },
    {
      "@type": "HowToSupply", 
      "name": "Original dimension data (width and height)"
    }
  ],
  "tool": [
    {
      "@type": "HowToTool",
      "name": "Aspect Ratio Calculator",
      "url": "https://screensize.cc/tools/aspect-ratio-calculator/"
    }
  ],
  "step": [
    {
      "@type": "HowToStep",
      "name": "Enter Original Dimensions",
      "text": "Enter your original width and height values in the calculator's left input boxes. For example, enter 1920 as width and 1080 as height.",
      "image": {
        "@type": "ImageObject",
        "url": "https://screensize.cc/images/step1-input-dimensions.jpg",
        "width": 800,
        "height": 450
      },
      "url": "https://screensize.cc/tools/aspect-ratio-calculator/#step1"
    },
    {
      "@type": "HowToStep",
      "name": "View Current Ratio",
      "text": "The system will automatically calculate and display the current aspect ratio, such as 16:9. This ratio will remain constant throughout the calculation process.",
      "image": {
        "@type": "ImageObject",
        "url": "https://screensize.cc/images/step2-view-ratio.jpg",
        "width": 800,
        "height": 450
      },
      "url": "https://screensize.cc/tools/aspect-ratio-calculator/#step2"
    },
    {
      "@type": "HowToStep",
      "name": "Enter Target Dimensions",
      "text": "In the new dimensions section on the right, enter the new width or height you want to convert to. You only need to enter one value.",
      "image": {
        "@type": "ImageObject",
        "url": "https://screensize.cc/images/step3-target-size.jpg",
        "width": 800,
        "height": 450
      },
      "url": "https://screensize.cc/tools/aspect-ratio-calculator/#step3"
    },
    {
      "@type": "HowToStep",
      "name": "Get Calculation Results",
      "text": "The system will automatically calculate and display the corresponding dimensions that maintain the same aspect ratio. You can view the scale factor and final ratio in the calculation summary.",
      "image": {
        "@type": "ImageObject",
        "url": "https://screensize.cc/images/step4-get-result.jpg",
        "width": 800,
        "height": 450
      },
      "url": "https://screensize.cc/tools/aspect-ratio-calculator/#step4"
    },
    {
      "@type": "HowToStep",
      "name": "Use Preset Ratios (Optional)",
      "text": "You can also click the common ratio buttons below the page (such as 16:9, 4:3, etc.) to quickly apply standard ratios, and the system will automatically fill in the corresponding values.",
      "image": {
        "@type": "ImageObject",
        "url": "https://screensize.cc/images/step5-preset-ratios.jpg",
        "width": 800,
        "height": 450
      },
      "url": "https://screensize.cc/tools/aspect-ratio-calculator/#step5"
    },
    {
      "@type": "HowToStep",
      "name": "View Visual Preview",
      "text": "In the aspect ratio preview area, you can see a visual representation of the ratio, helping you better understand the effect of dimension changes.",
      "image": {
        "@type": "ImageObject",
        "url": "https://screensize.cc/images/step6-visual-preview.jpg",
        "width": 800,
        "height": 450
      },
      "url": "https://screensize.cc/tools/aspect-ratio-calculator/#step6"
    }
  ],
  "video": {
    "@type": "VideoObject",
    "name": "Aspect Ratio Calculator Tutorial",
    "description": "Detailed demonstration of how to use the aspect ratio calculator for dimension conversion",
    "thumbnailUrl": "https://screensize.cc/images/video-thumbnail-aspect-ratio.jpg",
    "uploadDate": "2024-01-15",
    "duration": "PT1M30S",
    "contentUrl": "https://screensize.cc/videos/aspect-ratio-calculator-tutorial.mp4"
  },
  "author": {
    "@type": "Organization",
    "name": "ScreenSize.cc",
    "url": "https://screensize.cc"
  },
  "publisher": {
    "@type": "Organization",
    "name": "ScreenSize.cc",
    "logo": {
      "@type": "ImageObject",
      "url": "https://screensize.cc/images/logo.png",
      "width": 200,
      "height": 60
    }
  },
  "datePublished": "2024-01-15",
  "dateModified": "2024-01-20"
}
</script>

<!-- FAQPage Structured Data -->
<script type="application/ld+json" id="faq-structured-data">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is aspect ratio?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Aspect ratio is the proportional relationship between the width and height of an image, screen, or display. It's usually expressed as two numbers, such as 16:9, indicating that the width is 16/9 times the height. Aspect ratio is very important in responsive web design, video production, and display selection."
      }
    },
    {
      "@type": "Question",
      "name": "What are the most common aspect ratios?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The most common aspect ratios include: 16:9 (modern displays and TVs), 4:3 (traditional displays), 21:9 (ultrawide displays), 1:1 (square, commonly used for social media), 3:2 (photography standard), and 5:4 (older displays). Each ratio has its specific application scenarios."
      }
    },
    {
      "@type": "Question",
      "name": "How to calculate aspect ratio?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The method to calculate aspect ratio is to divide width by height. For example, with a 1920x1080 resolution, the aspect ratio is 1920÷1080=1.78, approximately equal to 16:9. You can also use our online calculator - just input the dimensions and it will calculate automatically."
      }
    },
    {
      "@type": "Question",
      "name": "Why is aspect ratio important in web design?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Aspect ratio is crucial in web design because it affects how content displays on different devices. The correct aspect ratio ensures images don't distort, layouts remain aesthetically pleasing, and responsive design works properly. This has positive impacts on both user experience and SEO."
      }
    },
    {
      "@type": "Question",
      "name": "How to resize images while maintaining aspect ratio?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "To resize images while maintaining aspect ratio, you need to scale width and height proportionally. Using our calculator, input the original dimensions and target width (or height), and the system will automatically calculate the corresponding height (or width), ensuring the ratio remains unchanged."
      }
    },
    {
      "@type": "Question",
      "name": "What's the difference between mobile and desktop device aspect ratios?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Mobile devices typically use portrait ratios like 9:16 or 9:18, while desktop devices mostly use landscape ratios like 16:9 or 16:10. In responsive design, these differences need to be considered to ensure content displays well on different devices."
      }
    },
    {
      "@type": "Question",
      "name": "What are the main uses of an aspect ratio calculator?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "An aspect ratio calculator is mainly used for: 1) Creating responsive layouts in web design; 2) Adjusting video dimensions for different platforms in video editing; 3) Proportionally scaling images in image processing to avoid distortion; 4) Ensuring designs maintain proportions at different sizes in print design; 5) Creating content sized for various platforms in social media content creation."
      }
    },
    {
      "@type": "Question",
      "name": "How to choose the right aspect ratio?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Choosing aspect ratio should consider the purpose: 16:9 is recommended for web and video content; 1:1 can be chosen for social media posts; 21:9 is suitable for film production; 4:3 or 3:2 can be chosen for traditional printing. Also consider the requirements of target devices and platforms to ensure content has the best display effect in the expected environment."
      }
    }
  ]
}
</script>

<!-- Part 1: Hero Section -->
<section class="devices-hero-section">
    <div class="devices-hero-container">
        <h1 class="devices-hero-title" data-i18n="aspectRatioCalculator.title">长宽比计算器</h1>
        <p class="devices-hero-subtitle" data-i18n="aspectRatioCalculator.intro">计算新尺寸的同时保持特定的长宽比。输入原始尺寸，自动计算比例相符的新尺寸。</p>
    </div>
</section>

<!-- Part 2: Calculator Section -->
<section class="section-container">
    <div class="aspect-ratio-calculator-tool">
        <div class="calculator-container">
            <!-- Input Form -->
            <div class="calculator-form">
                <h2 class="calculator-section-title" data-i18n="aspectRatioCalculator.originalRatio">原始比例</h2>
                
                <div class="input-group">
                    <label for="original-width" class="input-label" data-i18n="aspectRatioCalculator.width1">宽度 1</label>
                    <input 
                        type="number" 
                        id="original-width" 
                        class="calculator-input" 
                        placeholder="1920" 
                        data-i18n-placeholder="aspectRatioCalculator.width1Placeholder"
                        min="0.1" 
                        max="10000"
                        step="0.1"
                        aria-describedby="original-width-help"
                    >
                    <small class="input-help" id="original-width-help" data-i18n="aspectRatioCalculator.width1Help">原始宽度值</small>
                    <div class="error-message" id="original-width-error"></div>
                </div>

                <div class="input-group">
                    <label for="original-height" class="input-label" data-i18n="aspectRatioCalculator.height1">高度 1</label>
                    <input 
                        type="number" 
                        id="original-height" 
                        class="calculator-input" 
                        placeholder="1080" 
                        data-i18n-placeholder="aspectRatioCalculator.height1Placeholder"
                        min="0.1" 
                        max="10000"
                        step="0.1"
                        aria-describedby="original-height-help"
                    >
                    <small class="input-help" id="original-height-help" data-i18n="aspectRatioCalculator.height1Help">原始高度值</small>
                    <div class="error-message" id="original-height-error"></div>
                </div>

                <div class="aspect-ratio-display">
                    <span class="aspect-ratio-label" data-i18n="aspectRatioCalculator.currentRatio">当前比例：</span>
                    <span class="aspect-ratio-value" id="current-ratio">--</span>
                </div>
            </div>

            <!-- Result Display -->
            <div class="calculator-result">
                <h2 class="calculator-section-title" data-i18n="aspectRatioCalculator.newDimensions">新尺寸</h2>
                
                <div class="input-group">
                    <label for="new-width" class="input-label" data-i18n="aspectRatioCalculator.width2">宽度 2</label>
                    <input 
                        type="number" 
                        id="new-width" 
                        class="calculator-input" 
                        placeholder="3840" 
                        data-i18n-placeholder="aspectRatioCalculator.width2Placeholder"
                        min="0.1" 
                        max="10000"
                        step="0.1"
                        aria-describedby="new-width-help"
                    >
                    <small class="input-help" id="new-width-help" data-i18n="aspectRatioCalculator.width2Help">输入新宽度，高度将自动计算</small>
                    <div class="error-message" id="new-width-error"></div>
                </div>

                <div class="input-group">
                    <label for="new-height" class="input-label" data-i18n="aspectRatioCalculator.height2">高度 2</label>
                    <input 
                        type="number" 
                        id="new-height" 
                        class="calculator-input" 
                        placeholder="2160" 
                        data-i18n-placeholder="aspectRatioCalculator.height2Placeholder"
                        min="0.1" 
                        max="10000"
                        step="0.1"
                        aria-describedby="new-height-help"
                    >
                    <small class="input-help" id="new-height-help" data-i18n="aspectRatioCalculator.height2Help">输入新高度，宽度将自动计算</small>
                    <div class="error-message" id="new-height-error"></div>
                </div>

                <div class="calculation-summary" id="calculation-summary" style="display: none;">
                    <div class="summary-item">
                        <span class="summary-label" data-i18n="aspectRatioCalculator.scaleFactor">缩放倍数：</span>
                        <span class="summary-value" id="scale-factor">--</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label" data-i18n="aspectRatioCalculator.aspectRatio">长宽比：</span>
                        <span class="summary-value" id="aspect-ratio-result">--</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Visual Aspect Ratio Preview -->
        <div class="aspect-ratio-visualizer">
            <h3 class="visualizer-title" data-i18n="aspectRatioCalculator.visualizer">长宽比预览</h3>
            <div class="visualizer-container">
                <div class="visualizer-frame">
                    <div class="aspect-preview" id="aspect-preview">
                        <span class="preview-label" data-i18n="aspectRatioCalculator.previewLabel">比例预览</span>
                    </div>
                </div>
                <div class="visualizer-info">
                    <div class="info-item">
                        <span class="info-label" data-i18n="aspectRatioCalculator.originalSize">原始尺寸：</span>
                        <span class="info-value" id="original-size-display">--</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label" data-i18n="aspectRatioCalculator.newSize">新尺寸：</span>
                        <span class="info-value" id="new-size-display">--</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Part 3: SEO Content Section -->
<section class="content-section">
    <div class="section-container">
        <h2 data-i18n="aspectRatioCalculator.whatIsAspectRatio">什么是长宽比？</h2>
        <p data-i18n="aspectRatioCalculator.aspectRatioDefinition">
            长宽比是指图像、屏幕或任何矩形区域的宽度与高度之间的比例关系。它通常表示为两个数字的比值，如16:9或4:3。长宽比决定了内容的形状和视觉比例，是设计和媒体制作中的重要概念。
        </p>
        
        <h3 data-i18n="aspectRatioCalculator.howToCalculate">如何计算长宽比？</h3>
        <p data-i18n="aspectRatioCalculator.calculationFormula">
            长宽比的计算很简单：将宽度和高度都除以它们的最大公约数，得到最简比例。例如，1920×1080的分辨率，最大公约数是120，所以长宽比是16:9。当你需要保持相同比例调整尺寸时，可以使用公式：新高度 = (原高度 ÷ 原宽度) × 新宽度。
        </p>

        <h2 data-i18n="aspectRatioCalculator.commonAspectRatios">常见的长宽比</h2>
        
        <div class="ratio-item">
            <div class="ratio-visual-container">
                <div class="ratio-visual-example">
                    <svg class="ratio-shape" width="120" height="80" viewBox="0 0 120 80" aria-labelledby="ratio-169-title" role="img">
                        <title id="ratio-169-title">16:9 宽屏比例视觉示例</title>
                        <defs>
                            <linearGradient id="gradient-169" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:var(--primary-color);stop-opacity:1" />
                                <stop offset="100%" style="stop-color:var(--primary-color-light);stop-opacity:0.8" />
                            </linearGradient>
                        </defs>
                        <rect x="10" y="20" width="100" height="56.25" 
                              fill="url(#gradient-169)" 
                              stroke="var(--border-color)" 
                              stroke-width="1.5"
                              rx="4"/>
                        <text x="60" y="52" 
                              text-anchor="middle" 
                              font-size="12" 
                              font-weight="600"
                              fill="white"
                              text-shadow="0 1px 2px rgba(0,0,0,0.5)">16:9</text>
                    </svg>
                    <div class="ratio-tooltip">
                        <span class="tooltip-text" data-i18n="aspectRatioCalculator.tooltip169">宽屏显示器标准比例</span>
                    </div>
                </div>
            </div>
            <div class="ratio-header">
                <h3 data-i18n="aspectRatioCalculator.widescreen169">16:9 宽屏比例</h3>
                <button class="use-ratio-btn" data-width="16" data-height="9" data-ratio="16:9" 
                        tabindex="0" 
                        aria-label="使用16:9宽屏比例，自动填入计算器"
                        aria-describedby="ratio-169-desc">
                    <span class="btn-icon" aria-hidden="true">⚡</span>
                    <span class="btn-text" data-i18n="aspectRatioCalculator.useThisRatio">使用此比例</span>
                </button>
                <div id="ratio-169-desc" class="sr-only">点击此按钮将16:9比例自动应用到长宽比计算器中</div>
            </div>
            <p data-i18n="aspectRatioCalculator.widescreen169Description">
                16:9是现代最常见的长宽比，广泛用于高清电视、电脑显示器、YouTube视频和大多数现代设备。这个比例提供了宽广的视野，非常适合观看电影和游戏。
            </p>
        </div>

        <div class="ratio-item">
            <div class="ratio-visual-container">
                <div class="ratio-visual-example">
                    <svg class="ratio-shape" width="120" height="80" viewBox="0 0 120 80" aria-labelledby="ratio-43-title" role="img">
                        <title id="ratio-43-title">4:3 传统比例视觉示例</title>
                        <defs>
                            <linearGradient id="gradient-43" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#6c5ce7;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#a29bfe;stop-opacity:0.8" />
                            </linearGradient>
                        </defs>
                        <rect x="20" y="15" width="80" height="60" 
                              fill="url(#gradient-43)" 
                              stroke="var(--border-color)" 
                              stroke-width="1.5"
                              rx="4"/>
                        <text x="60" y="50" 
                              text-anchor="middle" 
                              font-size="12" 
                              font-weight="600"
                              fill="white"
                              text-shadow="0 1px 2px rgba(0,0,0,0.5)">4:3</text>
                    </svg>
                    <div class="ratio-tooltip">
                        <span class="tooltip-text" data-i18n="aspectRatioCalculator.tooltip43">传统显示器比例</span>
                    </div>
                </div>
            </div>
            <div class="ratio-header">
                <h3 data-i18n="aspectRatioCalculator.traditional43">4:3 传统比例</h3>
                <button class="use-ratio-btn" data-width="4" data-height="3" data-ratio="4:3"
                        tabindex="0" 
                        aria-label="使用4:3传统比例，自动填入计算器">
                    <span class="btn-icon" aria-hidden="true">⚡</span>
                    <span class="btn-text" data-i18n="aspectRatioCalculator.useThisRatio">使用此比例</span>
                </button>
            </div>
            <p data-i18n="aspectRatioCalculator.traditional43Description">
                4:3是传统的电视和电脑显示器比例，在早期的CRT显示器和老式电视中广泛使用。虽然现在不太常见，但在某些专业应用和老式内容中仍然重要。
            </p>
        </div>

        <div class="ratio-item">
            <div class="ratio-visual-container">
                <div class="ratio-visual-example">
                    <svg class="ratio-shape" width="120" height="80" viewBox="0 0 120 80" aria-labelledby="ratio-11-title" role="img">
                        <title id="ratio-11-title">1:1 正方形比例视觉示例</title>
                        <defs>
                            <linearGradient id="gradient-11" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#e17055;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#fab1a0;stop-opacity:0.8" />
                            </linearGradient>
                        </defs>
                        <rect x="35" y="15" width="50" height="50" 
                              fill="url(#gradient-11)" 
                              stroke="var(--border-color)" 
                              stroke-width="1.5"
                              rx="4"/>
                        <text x="60" y="45" 
                              text-anchor="middle" 
                              font-size="12" 
                              font-weight="600"
                              fill="white"
                              text-shadow="0 1px 2px rgba(0,0,0,0.5)">1:1</text>
                    </svg>
                    <div class="ratio-tooltip">
                        <span class="tooltip-text" data-i18n="aspectRatioCalculator.tooltip11">社交媒体正方形比例</span>
                    </div>
                </div>
            </div>
            <div class="ratio-header">
                <h3 data-i18n="aspectRatioCalculator.square11">1:1 正方形比例</h3>
                <button class="use-ratio-btn" data-width="1" data-height="1" data-ratio="1:1">
                    <span class="btn-icon">⚡</span>
                    <span class="btn-text" data-i18n="aspectRatioCalculator.useThisRatio">使用此比例</span>
                </button>
            </div>
            <p data-i18n="aspectRatioCalculator.square11Description">
                1:1正方形比例在社交媒体中非常流行，特别是Instagram的帖子。这种比例在移动设备上显示效果很好，也常用于头像、图标和某些艺术作品。
            </p>
        </div>

        <div class="ratio-item">
            <div class="ratio-visual-container">
                <div class="ratio-visual-example">
                    <svg class="ratio-shape" width="120" height="80" viewBox="0 0 120 80" aria-labelledby="ratio-219-title" role="img">
                        <title id="ratio-219-title">21:9 超宽屏比例视觉示例</title>
                        <defs>
                            <linearGradient id="gradient-219" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#00b894;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#55efc4;stop-opacity:0.8" />
                            </linearGradient>
                        </defs>
                        <rect x="5" y="30" width="110" height="47.14" 
                              fill="url(#gradient-219)" 
                              stroke="var(--border-color)" 
                              stroke-width="1.5"
                              rx="4"/>
                        <text x="60" y="58" 
                              text-anchor="middle" 
                              font-size="11" 
                              font-weight="600"
                              fill="white"
                              text-shadow="0 1px 2px rgba(0,0,0,0.5)">21:9</text>
                    </svg>
                    <div class="ratio-tooltip">
                        <span class="tooltip-text" data-i18n="aspectRatioCalculator.tooltip219">电影院超宽屏比例</span>
                    </div>
                </div>
            </div>
            <div class="ratio-header">
                <h3 data-i18n="aspectRatioCalculator.ultrawide219">21:9 超宽屏比例</h3>
                <button class="use-ratio-btn" data-width="21" data-height="9" data-ratio="21:9">
                    <span class="btn-icon">⚡</span>
                    <span class="btn-text" data-i18n="aspectRatioCalculator.useThisRatio">使用此比例</span>
                </button>
            </div>
            <p data-i18n="aspectRatioCalculator.ultrawide219Description">
                21:9超宽屏比例主要用于电影制作和高端显示器。这种比例提供了更宽的视野，特别适合电影观看、游戏和多任务处理。
            </p>
        </div>

        <!-- 添加更多常见比例 -->
        <div class="ratio-item">
            <div class="ratio-visual-container">
                <div class="ratio-visual-example">
                    <svg class="ratio-shape" width="120" height="80" viewBox="0 0 120 80" aria-labelledby="ratio-32-title" role="img">
                        <title id="ratio-32-title">3:2 摄影比例视觉示例</title>
                        <defs>
                            <linearGradient id="gradient-32" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#fd79a8;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#fdcb6e;stop-opacity:0.8" />
                            </linearGradient>
                        </defs>
                        <rect x="15" y="22.5" width="90" height="60" 
                              fill="url(#gradient-32)" 
                              stroke="var(--border-color)" 
                              stroke-width="1.5"
                              rx="4"/>
                        <text x="60" y="57" 
                              text-anchor="middle" 
                              font-size="12" 
                              font-weight="600"
                              fill="white"
                              text-shadow="0 1px 2px rgba(0,0,0,0.5)">3:2</text>
                    </svg>
                    <div class="ratio-tooltip">
                        <span class="tooltip-text" data-i18n="aspectRatioCalculator.tooltip32">传统摄影标准比例</span>
                    </div>
                </div>
            </div>
            <div class="ratio-header">
                <h3 data-i18n="aspectRatioCalculator.photography32">3:2 摄影比例</h3>
                <button class="use-ratio-btn" data-width="3" data-height="2" data-ratio="3:2">
                    <span class="btn-icon">⚡</span>
                    <span class="btn-text" data-i18n="aspectRatioCalculator.useThisRatio">使用此比例</span>
                </button>
            </div>
            <p data-i18n="aspectRatioCalculator.photography32Description">
                3:2是传统摄影中常用的比例，也是35mm胶片的标准比例。这个比例在数码相机和平板电脑中也很常见，提供了良好的构图平衡。
            </p>
        </div>

        <div class="ratio-item">
            <div class="ratio-visual-container">
                <div class="ratio-visual-example">
                    <svg class="ratio-shape" width="120" height="80" viewBox="0 0 120 80" aria-labelledby="ratio-54-title" role="img">
                        <title id="ratio-54-title">5:4 经典比例视觉示例</title>
                        <defs>
                            <linearGradient id="gradient-54" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#74b9ff;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#0984e3;stop-opacity:0.8" />
                            </linearGradient>
                        </defs>
                        <rect x="22.5" y="18" width="75" height="60" 
                              fill="url(#gradient-54)" 
                              stroke="var(--border-color)" 
                              stroke-width="1.5"
                              rx="4"/>
                        <text x="60" y="53" 
                              text-anchor="middle" 
                              font-size="12" 
                              font-weight="600"
                              fill="white"
                              text-shadow="0 1px 2px rgba(0,0,0,0.5)">5:4</text>
                    </svg>
                    <div class="ratio-tooltip">
                        <span class="tooltip-text" data-i18n="aspectRatioCalculator.tooltip54">经典显示器比例</span>
                    </div>
                </div>
            </div>
            <div class="ratio-header">
                <h3 data-i18n="aspectRatioCalculator.classic54">5:4 经典比例</h3>
                <button class="use-ratio-btn" data-width="5" data-height="4" data-ratio="5:4">
                    <span class="btn-icon">⚡</span>
                    <span class="btn-text" data-i18n="aspectRatioCalculator.useThisRatio">使用此比例</span>
                </button>
            </div>
            <p data-i18n="aspectRatioCalculator.classic54Description">
                5:4比例常用于早期的计算机显示器和某些专业显示器。这个比例介于4:3和16:10之间，在文档处理和图形设计中有一定的应用。
            </p>
        </div>

        <h2 data-i18n="aspectRatioCalculator.whyAspectRatioMatters">为什么长宽比很重要？</h2>
        
        <h3 data-i18n="aspectRatioCalculator.responsiveDesign">响应式网页设计</h3>
        <p data-i18n="aspectRatioCalculator.responsiveDesignDescription">
            在<a href="/{{lang}}/blog/media-queries-essentials.html" target="_blank" rel="noopener noreferrer" class="internal-link" data-link-type="outbound" data-link-id="responsive-design">响应式网页设计</a>中，了解不同设备的长宽比至关重要。设计师需要确保内容在各种屏幕比例上都能正确显示，从手机的窄屏到桌面的宽屏。通过掌握媒体查询等技术，可以创建在任何设备上都表现出色的网站。
        </p>

        <h3 data-i18n="aspectRatioCalculator.videoProduction">视频制作</h3>
        <p data-i18n="aspectRatioCalculator.videoProductionDescription">
            视频制作中，选择正确的长宽比决定了最终作品的视觉效果和兼容性。不同平台有不同的推荐比例：YouTube推荐16:9，Instagram Stories使用9:16，而电影通常使用21:9。
        </p>

        <h3 data-i18n="aspectRatioCalculator.imageEditing">图像编辑和摄影</h3>
        <p data-i18n="aspectRatioCalculator.imageEditingDescription">
            在图像编辑中，保持正确的长宽比可以避免图像变形。当需要调整图像尺寸用于不同用途时，了解如何计算比例尺寸非常重要。
        </p>

        <h2 data-i18n="aspectRatioCalculator.howToUse">如何使用长宽比计算器？</h2>
        <ol>
            <li data-i18n="aspectRatioCalculator.step1">输入原始的宽度和高度值</li>
            <li data-i18n="aspectRatioCalculator.step2">在新尺寸区域输入新的宽度或高度</li>
            <li data-i18n="aspectRatioCalculator.step3">另一个维度将自动计算以保持相同比例</li>
            <li data-i18n="aspectRatioCalculator.step4">查看可视化预览了解比例效果</li>
        </ol>
        
        <p data-i18n="aspectRatioCalculator.exampleCalculation">
            例如：如果原始尺寸是1920×1080（16:9），当你输入新宽度3840时，计算器会自动计算出新高度为2160，保持相同的16:9比例。
        </p>

        <h3 data-i18n="aspectRatioCalculator.practicalApplications">实际应用场景</h3>
        <ul>
            <li data-i18n="aspectRatioCalculator.webDesign">网页设计：为不同设备创建响应式布局</li>
            <li data-i18n="aspectRatioCalculator.videoEditing">视频编辑：调整视频尺寸适配不同平台</li>
            <li data-i18n="aspectRatioCalculator.imageResize">图像调整：按比例缩放图片避免变形</li>
            <li data-i18n="aspectRatioCalculator.printDesign">印刷设计：确保设计在不同尺寸下保持比例</li>
            <li data-i18n="aspectRatioCalculator.socialMedia">社交媒体：创建适合各平台的内容尺寸</li>
        </ul>
    </div>
</section>

<!-- Part 4: FAQ Section -->
<section class="faq-section">
    <div class="section-container">
        <h2 class="section-title" data-i18n="aspectRatioCalculator.faq.title">常见问题解答 (FAQ)</h2>
        
        <div class="faq-list">
            <div class="faq-item">
                <button class="faq-question" data-i18n="aspectRatioCalculator.faq.whatIsRatio.question">什么是长宽比？</button>
                <div class="faq-answer">
                    <p data-i18n="aspectRatioCalculator.faq.whatIsRatio.answer">长宽比是宽度与高度的比例关系，通常表示为两个数字的比值（如16:9）。它决定了矩形区域的形状，是设计和媒体制作中的基本概念。</p>
                </div>
            </div>
            
            <div class="faq-item">
                <button class="faq-question" data-i18n="aspectRatioCalculator.faq.whyMaintainRatio.question">为什么要保持长宽比？</button>
                <div class="faq-answer">
                    <p data-i18n="aspectRatioCalculator.faq.whyMaintainRatio.answer">保持长宽比可以避免图像或内容变形。当你调整尺寸时，如果不保持原始比例，图像可能会被拉伸或压缩，导致视觉效果不佳。</p>
                </div>
            </div>
            
            <div class="faq-item">
                <button class="faq-question" data-i18n="aspectRatioCalculator.faq.commonRatios.question">最常用的长宽比有哪些？</button>
                <div class="faq-answer">
                    <p data-i18n="aspectRatioCalculator.faq.commonRatios.answer">最常见的包括16:9（现代显示器和视频）、4:3（传统显示器）、1:1（社交媒体正方形）、21:9（超宽屏）和3:2（摄影常用）。</p>
                </div>
            </div>
            
            <div class="faq-item">
                <button class="faq-question" data-i18n="aspectRatioCalculator.faq.calculateManually.question">如何手动计算长宽比？</button>
                <div class="faq-answer">
                    <p data-i18n="aspectRatioCalculator.faq.calculateManually.answer">将宽度和高度都除以它们的最大公约数。例如，1920÷120=16，1080÷120=9，所以比例是16:9。或者使用公式：新高度 = (原高度 ÷ 原宽度) × 新宽度。</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Part 5: Related Resources - 使用统一内链组件 -->
{{component:internal-links}}

<!-- CSS Styles for Aspect Ratio Calculator -->
<style>
.aspect-ratio-calculator-tool {
    background: var(--background-card);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-light);
    border: 1px solid var(--border-color);
    padding: var(--spacing-xl);
    margin: var(--spacing-xl) 0;
}

.calculator-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--spacing-2xl);
    max-width: 1000px;
    margin: 0 auto;
    margin-bottom: var(--spacing-2xl);
}

.calculator-section-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 var(--spacing-lg) 0;
    padding-bottom: var(--spacing-sm);
    border-bottom: 2px solid var(--primary-color);
}

.input-group {
    margin-bottom: var(--spacing-lg);
}

.input-label {
    display: block;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: var(--spacing-sm);
    font-size: 0.875rem;
}

.calculator-input {
    width: 100%;
    padding: var(--spacing-md);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-md);
    font-size: 1rem;
    background: var(--background-primary);
    color: var(--text-primary);
    transition: all var(--transition-fast);
}

.calculator-input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 3px var(--glow-color);
}

.calculator-input.error {
    border-color: #dc3545;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2);
}

.input-help {
    display: block;
    color: var(--text-secondary);
    font-size: 0.75rem;
    margin-top: var(--spacing-xs);
    line-height: 1.4;
}

.error-message {
    color: #dc3545;
    font-size: 0.75rem;
    font-weight: 500;
    line-height: 1.4;
    margin-top: 0;
    padding: 0;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: all 0.3s ease-in-out;
    transform: translateY(-4px);
}

.error-message:not(:empty) {
    max-height: 2.5rem;
    opacity: 1;
    margin-top: var(--spacing-xs);
    padding: var(--spacing-xs) 0;
    transform: translateY(0);
}

.aspect-ratio-display {
    background: var(--background-secondary);
    padding: var(--spacing-md);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    text-align: center;
    margin-top: var(--spacing-md);
}

.aspect-ratio-label {
    color: var(--text-secondary);
    font-size: 0.875rem;
    font-weight: 500;
}

.aspect-ratio-value {
    color: var(--primary-color);
    font-size: 1.125rem;
    font-weight: 700;
    font-family: var(--font-family-mono);
    margin-left: var(--spacing-sm);
}

.calculation-summary {
    background: var(--background-secondary);
    padding: var(--spacing-lg);
    border-radius: var(--radius-md);
    border: 1px solid var(--border-color);
    margin-top: var(--spacing-lg);
}

.summary-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    margin-bottom: var(--spacing-sm);
    font-size: 0.875rem;
}

.summary-item:last-child {
    margin-bottom: 0;
}

.summary-label {
    color: var(--text-secondary);
    font-weight: 500;
}

.summary-value {
    color: var(--text-primary);
    font-weight: 600;
    font-family: var(--font-family-mono);
}

/* Aspect Ratio Visualizer */
.aspect-ratio-visualizer {
    background: var(--background-secondary);
    border-radius: var(--radius-lg);
    padding: var(--spacing-xl);
    border: 1px solid var(--border-color);
}

.visualizer-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 var(--spacing-lg) 0;
    text-align: center;
}

.visualizer-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--spacing-lg);
}

.visualizer-frame {
    width: 300px;
    height: 200px;
    background: var(--background-primary);
    border: 2px solid var(--border-color);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

.aspect-preview {
    background: linear-gradient(135deg, var(--primary-color), var(--primary-color-light));
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 0.875rem;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    transition: all var(--transition-fast);
    min-width: 20px;
    min-height: 20px;
}

.preview-label {
    opacity: 0.9;
    font-size: 0.75rem;
    text-align: center;
    line-height: 1.2;
}

.visualizer-info {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-sm);
    width: 100%;
    max-width: 300px;
}

.info-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--background-primary);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-color);
}

.info-label {
    color: var(--text-secondary);
    font-size: 0.875rem;
    font-weight: 500;
}

.info-value {
    color: var(--text-primary);
    font-size: 0.875rem;
    font-weight: 600;
    font-family: var(--font-family-mono);
}

/* Ratio Item Styles */
.ratio-item {
    margin-bottom: var(--spacing-xl);
    padding: var(--spacing-lg);
    background: var(--background-card);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border-color);
    transition: all var(--transition-fast);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.ratio-item:hover {
    box-shadow: var(--shadow-light);
    border-color: var(--primary-color-light);
}

/* Visual Example Styles */
.ratio-visual-container {
    display: flex;
    justify-content: center;
    margin-bottom: var(--spacing-md);
}

.ratio-visual-example {
    position: relative;
    display: inline-block;
    cursor: pointer;
    transition: all var(--transition-fast);
}

.ratio-visual-example:hover {
    transform: scale(1.05);
}

.ratio-shape {
    display: block;
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.1));
    transition: all var(--transition-fast);
}

.ratio-shape:hover {
    filter: drop-shadow(0 4px 16px rgba(0, 0, 0, 0.15));
}

/* SVG text styling for better visibility */
.ratio-shape text {
    font-family: var(--font-family-base);
    font-weight: 600;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
}

/* Tooltip Styles */
.ratio-tooltip {
    position: absolute;
    bottom: -35px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: white;
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 500;
    white-space: nowrap;
    opacity: 0;
    visibility: hidden;
    transition: all var(--transition-fast);
    pointer-events: none;
    z-index: 10;
}

.ratio-tooltip::before {
    content: '';
    position: absolute;
    top: -4px;
    left: 50%;
    transform: translateX(-50%);
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-bottom: 4px solid rgba(0, 0, 0, 0.8);
}

.ratio-visual-example:hover .ratio-tooltip {
    opacity: 1;
    visibility: visible;
    transform: translateX(-50%) translateY(-5px);
}

/* Enhanced hover effects for visual examples */
.ratio-visual-example:hover .ratio-shape rect {
    filter: brightness(1.1);
}

/* Gradient definitions for different themes */
[data-theme="dark"] .ratio-shape defs linearGradient stop[style*="--primary-color"] {
    stop-color: var(--primary-color);
}

[data-theme="dark"] .ratio-shape defs linearGradient stop[style*="--primary-color-light"] {
    stop-color: var(--primary-color-light);
}

.ratio-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--spacing-md);
    flex-wrap: wrap;
    gap: var(--spacing-sm);
}

.ratio-header h3 {
    margin: 0;
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
}

.use-ratio-btn {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-xs);
    padding: var(--spacing-sm) var(--spacing-md);
    background: var(--primary-color);
    color: white;
    border: none;
    border-radius: var(--radius-md);
    font-size: 0.875rem;
    font-weight: 600;
    cursor: pointer;
    transition: all var(--transition-fast);
    position: relative;
    overflow: hidden;
}

.use-ratio-btn:hover {
    background: var(--primary-color-dark);
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
}

.use-ratio-btn:active {
    transform: translateY(0);
    box-shadow: 0 2px 6px rgba(0, 123, 255, 0.2);
}

.use-ratio-btn:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
}

.use-ratio-btn.selected {
    background: #28a745 !important;
    color: white !important;
    border-color: #28a745 !important;
    animation: pulse 0.6s ease-in-out;
}

/* 最高优先级的选中状态样式 - 覆盖所有可能的继承样式 */
button.use-ratio-btn.selected,
button.use-ratio-btn.selected:hover,
button.use-ratio-btn.selected:focus,
button.use-ratio-btn.selected:active {
    background: #28a745 !important;
    color: white !important;
    border-color: #28a745 !important;
}

/* 确保所有子元素都是白色文字 */
button.use-ratio-btn.selected *,
button.use-ratio-btn.selected span,
button.use-ratio-btn.selected .btn-icon,
button.use-ratio-btn.selected .btn-text,
.use-ratio-btn.selected *,
.use-ratio-btn.selected span,
.use-ratio-btn.selected .btn-icon,
.use-ratio-btn.selected .btn-text {
    color: white !important;
    fill: white !important;
}

/* 针对不同嵌套层级的覆盖 */
.ratio-item .use-ratio-btn.selected,
.ratio-item .use-ratio-btn.selected:hover,
.ratio-item .use-ratio-btn.selected:focus,
.ratio-item .use-ratio-btn.selected:active {
    background: #28a745 !important;
    color: white !important;
    border-color: #28a745 !important;
}

.ratio-item .use-ratio-btn.selected *,
.ratio-item .use-ratio-btn.selected span,
.ratio-item .use-ratio-btn.selected .btn-icon,
.ratio-item .use-ratio-btn.selected .btn-text {
    color: white !important;
    fill: white !important;
}

/* 深色主题下的选中状态 */
[data-theme="dark"] .use-ratio-btn.selected,
[data-theme="dark"] .use-ratio-btn.selected:hover,
[data-theme="dark"] .use-ratio-btn.selected:focus,
[data-theme="dark"] .use-ratio-btn.selected:active {
    background: #28a745 !important;
    color: white !important;
    border-color: #28a745 !important;
}

[data-theme="dark"] .use-ratio-btn.selected *,
[data-theme="dark"] .use-ratio-btn.selected span,
[data-theme="dark"] .use-ratio-btn.selected .btn-icon,
[data-theme="dark"] .use-ratio-btn.selected .btn-text {
    color: white !important;
    fill: white !important;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
}

.btn-icon {
    font-size: 1rem;
    line-height: 1;
}

.btn-text {
    font-size: 0.875rem;
    font-weight: 600;
}

.use-ratio-btn .selection-feedback {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--success-color, #28a745);
    color: white;
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--radius-sm);
    font-size: 0.75rem;
    font-weight: 600;
    white-space: nowrap;
    opacity: 0;
    animation: feedbackSlide 2s ease-in-out;
}

@keyframes feedbackSlide {
    0% { opacity: 0; transform: translateX(-50%) translateY(10px); }
    20% { opacity: 1; transform: translateX(-50%) translateY(0); }
    80% { opacity: 1; transform: translateX(-50%) translateY(0); }
    100% { opacity: 0; transform: translateX(-50%) translateY(-10px); }
}

/* Auto-filled input highlight */
.calculator-input.auto-filled {
    border-color: var(--success-color, #28a745);
    box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.2);
    background: rgba(40, 167, 69, 0.05);
}

/* Mobile responsive for ratio buttons and visual examples */
@media (max-width: 768px) {
    .ratio-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-md);
    }
    
    .use-ratio-btn {
        align-self: stretch;
        font-size: 0.875rem;
        padding: var(--spacing-md) var(--spacing-lg);
        min-height: 44px; /* iOS recommended touch target size */
        border-radius: var(--radius-lg);
        font-weight: 600;
        box-shadow: 0 2px 8px rgba(0, 102, 204, 0.2);
        transition: all var(--transition-fast);
    }
    
    .use-ratio-btn:active {
        transform: scale(0.98);
        box-shadow: 0 1px 4px rgba(0, 102, 204, 0.3);
    }
    
    /* Enhanced mobile optimization for visual examples */
    .ratio-visual-container {
        margin-bottom: var(--spacing-lg);
    }
    
    .ratio-visual-example {
        transform: scale(1);
        cursor: pointer;
        -webkit-tap-highlight-color: transparent;
    }
    
    .ratio-visual-example:active {
        transform: scale(0.95);
    }
    
    .ratio-shape {
        width: 110px;
        height: 73px;
        filter: drop-shadow(0 3px 12px rgba(0, 0, 0, 0.15));
    }
    
    .ratio-tooltip {
        font-size: 0.75rem;
        padding: var(--spacing-xs) var(--spacing-sm);
        bottom: -35px;
        border-radius: var(--radius-md);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }
    
    /* Improve touch interaction for ratio items */
    .ratio-item {
        border-radius: var(--radius-xl);
        padding: var(--spacing-xl);
        margin-bottom: var(--spacing-xl);
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        transition: all var(--transition-medium);
    }
    
    .ratio-item:active {
        transform: translateY(1px);
        box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12);
    }
}

@media (max-width: 480px) {
    .ratio-item {
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-lg);
        border-radius: var(--radius-lg);
    }
    
    .use-ratio-btn {
        width: 100%;
        justify-content: center;
        font-size: 1rem;
        padding: var(--spacing-lg);
        min-height: 48px; /* Larger touch target for small screens */
        border-radius: var(--radius-xl);
        font-weight: 700;
        letter-spacing: 0.025em;
        box-shadow: 0 3px 12px rgba(0, 102, 204, 0.25);
    }
    
    .use-ratio-btn:active {
        transform: scale(0.96);
    }
    
    .use-ratio-btn .btn-icon {
        font-size: 1.125rem;
        margin-right: var(--spacing-xs);
    }
    
    .use-ratio-btn .btn-text {
        font-size: 1rem;
        font-weight: 700;
    }
    
    /* Optimized visual examples for small screens */
    .ratio-visual-container {
        margin-bottom: var(--spacing-xl);
        padding: var(--spacing-md);
        background: var(--background-secondary);
        border-radius: var(--radius-lg);
        border: 1px solid var(--border-color);
    }
    
    .ratio-visual-example {
        transform: scale(1);
        padding: var(--spacing-sm);
    }
    
    .ratio-visual-example:active {
        transform: scale(0.92);
    }
    
    .ratio-shape {
        width: 100px;
        height: 67px;
        filter: drop-shadow(0 4px 16px rgba(0, 0, 0, 0.2));
    }
    
    .ratio-shape text {
        font-size: 11px;
        font-weight: 700;
    }
    
    .ratio-tooltip {
        font-size: 0.7rem;
        padding: var(--spacing-xs);
        bottom: -30px;
        max-width: 150px;
        text-align: center;
        border-radius: var(--radius-sm);
    }
    
    .ratio-tooltip::before {
        border-left: 4px solid transparent;
        border-right: 4px solid transparent;
        border-bottom: 4px solid rgba(0, 0, 0, 0.8);
    }
    
    /* Enhanced header layout for small screens */
    .ratio-header {
        text-align: center;
        gap: var(--spacing-lg);
    }
    
    .ratio-header h3 {
        font-size: 1.125rem;
        line-height: 1.3;
        margin: 0;
    }
    
    /* Improve calculator layout on mobile */
    .calculator-container {
        gap: var(--spacing-xl);
    }
    
    .calculator-input {
        font-size: 1rem;
        padding: var(--spacing-md) var(--spacing-lg);
        min-height: 44px;
        border-radius: var(--radius-lg);
        border-width: 2px;
    }
    
    .calculator-input:focus {
        box-shadow: 0 0 0 4px var(--glow-color);
    }
    
    /* Enhanced visual feedback for mobile */
    .calculator-input.auto-filled {
        animation: mobileAutoFillPulse 0.8s ease-in-out;
    }
    
    @keyframes mobileAutoFillPulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.02); box-shadow: 0 0 0 4px rgba(40, 167, 69, 0.3); }
        100% { transform: scale(1); }
    }
    
    /* Touch feedback styles */
    .use-ratio-btn.touch-active {
        transform: scale(0.96);
        box-shadow: 0 2px 8px rgba(0, 102, 204, 0.4);
    }
    
    .ratio-visual-example.touch-active {
        transform: scale(0.92);
    }
    
    .calculator-input.touch-focused {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px var(--glow-color);
    }
    
    /* Mobile tooltip enhancement */
    .ratio-tooltip.mobile-show {
        opacity: 1;
        visibility: visible;
        transform: translateX(-50%) translateY(-5px);
        z-index: 1000;
    }
    
    /* Prevent text selection on touch elements */
    .use-ratio-btn,
    .ratio-visual-example {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        -webkit-touch-callout: none;
    }
    
    /* Improve touch target sizes */
    .use-ratio-btn {
        min-height: 44px;
        min-width: 44px;
    }
    
    /* Enhanced focus styles for mobile */
    .calculator-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px var(--glow-color);
        transform: scale(1.01);
        transition: all var(--transition-fast);
    }
}

/* Error Handling and Fallback Styles */
.error-fallback {
    background: #fff3f3;
    border: 1px solid #ffcdd2;
    border-radius: var(--radius-md);
    padding: var(--spacing-lg);
    margin: var(--spacing-md) 0;
    text-align: center;
    color: #d32f2f;
}

.error-fallback h3 {
    color: #d32f2f;
    margin: 0 0 var(--spacing-sm) 0;
    font-size: 1rem;
}

.error-fallback p {
    color: #666;
    margin: 0 0 var(--spacing-md) 0;
    font-size: 0.875rem;
}

.retry-btn {
    background: #d32f2f;
    color: white;
    border: none;
    padding: var(--spacing-sm) var(--spacing-lg);
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-size: 0.875rem;
    font-weight: 500;
    transition: background-color var(--transition-fast);
}

.retry-btn:hover {
    background: #b71c1c;
}

/* No-JS fallback styles */
.no-js .use-ratio-btn {
    display: none;
}

.no-js .ratio-visual-example {
    cursor: default;
}

.no-js .ratio-tooltip {
    opacity: 1;
    visibility: visible;
    position: static;
    transform: none;
    background: var(--background-secondary);
    color: var(--text-secondary);
    border-radius: var(--radius-sm);
    padding: var(--spacing-xs);
    margin-top: var(--spacing-xs);
    font-size: 0.75rem;
}

/* Screen reader only content */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Keyboard navigation focus styles */
.use-ratio-btn:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
    box-shadow: 0 0 0 4px var(--glow-color);
}

.ratio-visual-example:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .use-ratio-btn {
        border: 2px solid currentColor;
    }
    
    .ratio-shape {
        stroke-width: 2;
    }
    
    .calculator-input {
        border-width: 2px;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .use-ratio-btn,
    .ratio-visual-example,
    .calculator-input,
    .ratio-shape {
        transition: none;
        animation: none;
    }
    
    .use-ratio-btn:hover,
    .use-ratio-btn:active {
        transform: none;
    }
    
    .ratio-visual-example:hover,
    .ratio-visual-example:active {
        transform: none;
    }
}

/* Performance optimizations */
.ratio-shape,
.use-ratio-btn,
.calculator-input {
    will-change: transform;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
}

/* GPU acceleration for animations */
.use-ratio-btn:hover,
.use-ratio-btn:active,
.ratio-visual-example:hover,
.ratio-visual-example:active {
    transform: translateZ(0);
}

/* Optimize font rendering */
.use-ratio-btn,
.calculator-input,
.ratio-tooltip {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

/* Lazy loading for non-critical elements */
.ratio-tooltip {
    contain: layout style paint;
}

/* Critical resource hints */
.ratio-shape {
    shape-rendering: optimizeSpeed;
}

/* Optimize repaints */
.calculator-input:focus,
.use-ratio-btn:focus {
    contain: layout;
}

/* Content Section Styles */
.content-section {
    padding: var(--spacing-2xl) 0;
}

.content-section h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: var(--spacing-xl) 0 var(--spacing-lg) 0;
    padding-bottom: var(--spacing-sm);
    border-bottom: 1px solid var(--border-color);
}

.content-section h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: var(--spacing-lg) 0 var(--spacing-md) 0;
}

.content-section p {
    color: var(--text-primary);
    line-height: 1.7;
    margin-bottom: var(--spacing-md);
}

.content-section ul,
.content-section ol {
    color: var(--text-primary);
    line-height: 1.7;
    margin-bottom: var(--spacing-md);
    padding-left: var(--spacing-xl);
}

.content-section li {
    margin-bottom: var(--spacing-sm);
}

/* Responsive Design */
@media (max-width: 768px) {
    .calculator-container {
        grid-template-columns: 1fr;
        gap: var(--spacing-xl);
    }
    
    .aspect-ratio-calculator-tool {
        padding: var(--spacing-lg);
    }
    
    .calculator-section-title {
        font-size: 1.125rem;
    }
    
    .visualizer-frame {
        width: 250px;
        height: 150px;
    }
    
    .visualizer-info {
        max-width: 250px;
    }
}

@media (max-width: 480px) {
    .aspect-ratio-calculator-tool {
        padding: var(--spacing-md);
    }
    
    .calculator-input {
        padding: var(--spacing-sm);
    }
    
    .visualizer-frame {
        width: 200px;
        height: 120px;
    }
    
    .visualizer-info {
        max-width: 200px;
    }
    
    .aspect-preview {
        font-size: 0.75rem;
    }
    
    .preview-label {
        font-size: 0.625rem;
    }
}

/* FAQ Section Styles */
.faq-section {
    padding: var(--spacing-2xl) 0;
    background: var(--background-secondary);
}

.faq-container {
    max-width: 800px;
    margin: 0 auto;
}

.faq-list {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.faq-item {
    background: var(--background-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-md);
    overflow: hidden;
    transition: all var(--transition-fast);
}

.faq-item:hover {
    box-shadow: var(--shadow-light);
}

.faq-item[open] {
    border-color: var(--primary-color);
}

.faq-question {
    padding: var(--spacing-lg);
    font-weight: 600;
    font-size: 1rem;
    color: var(--text-primary);
    cursor: pointer;
    list-style: none;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transition: all var(--transition-fast);
}

.faq-question:hover {
    background: var(--background-secondary);
    color: var(--primary-color);
}

.faq-question::after {
    content: '+';
    font-size: 1.5rem;
    font-weight: 300;
    color: var(--primary-color);
    transition: transform var(--transition-fast);
}

.faq-item[open] .faq-question::after {
    transform: rotate(45deg);
}

.faq-answer {
    padding: 0 var(--spacing-lg) var(--spacing-lg) var(--spacing-lg);
    color: var(--text-primary);
    line-height: 1.6;
    font-size: 0.9rem;
    border-top: 1px solid var(--border-color);
    background: var(--background-primary);
    display: none;
    transition: all var(--transition-fast);
}

.faq-item.active .faq-answer {
    display: block;
}

.faq-item.active .faq-question::after {
    transform: rotate(45deg);
}

.faq-item.active {
    border-color: var(--primary-color);
}

/* Remove default details marker */
.faq-question::-webkit-details-marker {
    display: none;
}

/* Internal Link Styles */
.internal-link {
    color: var(--primary-color);
    text-decoration: none;
    font-weight: 600;
    border-bottom: 1px solid transparent;
    transition: all var(--transition-fast);
    position: relative;
}

.internal-link:hover {
    color: var(--primary-color-dark);
    border-bottom-color: var(--primary-color);
    text-decoration: none;
}

.internal-link:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
    border-radius: 2px;
}

/* External link indicator */
.internal-link[target="_blank"]::after {
    content: "↗";
    font-size: 0.8em;
    margin-left: 0.2em;
    opacity: 0.7;
    transition: opacity var(--transition-fast);
}

.internal-link[target="_blank"]:hover::after {
    opacity: 1;
}

/* Link Preview Styles */
.link-preview {
    position: fixed;
    z-index: 10000;
    background: var(--background-card);
    border: 1px solid var(--border-color);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-heavy);
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all var(--transition-medium);
    pointer-events: none;
    max-width: 320px;
    overflow: hidden;
}

.link-preview.show {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.link-preview.preview-above {
    transform: translateY(10px);
}

.link-preview.preview-above.show {
    transform: translateY(0);
}

.preview-content {
    padding: var(--spacing-lg);
}

.preview-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: var(--spacing-md);
    gap: var(--spacing-sm);
}

.preview-title {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
    line-height: 1.3;
    flex: 1;
}

.preview-type {
    background: var(--primary-color);
    color: white;
    font-size: 0.75rem;
    font-weight: 500;
    padding: var(--spacing-xs) var(--spacing-sm);
    border-radius: var(--radius-sm);
    white-space: nowrap;
    flex-shrink: 0;
}

.preview-description {
    color: var(--text-secondary);
    font-size: 0.875rem;
    line-height: 1.5;
    margin: 0 0 var(--spacing-md) 0;
}

.preview-footer {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--spacing-sm);
    padding-top: var(--spacing-sm);
    border-top: 1px solid var(--border-color);
}

.preview-url {
    color: var(--text-muted);
    font-size: 0.75rem;
    font-family: var(--font-family-mono);
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.preview-action {
    color: var(--primary-color);
    font-size: 0.75rem;
    font-weight: 600;
    flex-shrink: 0;
}

/* Link preview arrow */
.link-preview::before {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    border-left: 8px solid transparent;
    border-right: 8px solid transparent;
    border-bottom: 8px solid var(--background-card);
    top: -8px;
    left: 50%;
    transform: translateX(-50%);
    filter: drop-shadow(0 -1px 1px rgba(0, 0, 0, 0.1));
}

.link-preview.preview-above::before {
    top: auto;
    bottom: -8px;
    border-bottom: none;
    border-top: 8px solid var(--background-card);
    filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.1));
}

/* Dark theme support for link preview */
[data-theme="dark"] .link-preview {
    background: var(--background-card);
    border-color: var(--border-color);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

[data-theme="dark"] .preview-title {
    color: var(--text-primary);
}

[data-theme="dark"] .preview-type {
    background: var(--primary-color);
}

[data-theme="dark"] .preview-description {
    color: var(--text-secondary);
}

[data-theme="dark"] .preview-footer {
    border-top-color: var(--border-color);
}

[data-theme="dark"] .preview-url {
    color: var(--text-muted);
}

[data-theme="dark"] .preview-action {
    color: var(--primary-color);
}

[data-theme="dark"] .link-preview::before {
    border-bottom-color: var(--background-card);
}

[data-theme="dark"] .link-preview.preview-above::before {
    border-top-color: var(--background-card);
}

/* Mobile responsive for link preview */
@media (max-width: 768px) {
    .link-preview {
        max-width: calc(100vw - 20px);
        left: 10px !important;
        right: 10px !important;
        width: auto !important;
    }
    
    .preview-content {
        padding: var(--spacing-md);
    }
    
    .preview-title {
        font-size: 1rem;
    }
    
    .preview-type {
        font-size: 0.7rem;
        padding: 2px var(--spacing-xs);
    }
    
    .preview-description {
        font-size: 0.8rem;
    }
    
    .preview-url,
    .preview-action {
        font-size: 0.7rem;
    }
}

@media (max-width: 480px) {
    .link-preview {
        max-width: calc(100vw - 16px);
        left: 8px !important;
        right: 8px !important;
    }
    
    .preview-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-xs);
    }
    
    .preview-type {
        align-self: flex-start;
    }
}

/* Dark Theme Support */
[data-theme="dark"] .aspect-ratio-calculator-tool {
    background: var(--background-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .aspect-ratio-display {
    background: var(--background-secondary);
    border-color: var(--border-color);
}

[data-theme="dark"] .calculation-summary {
    background: var(--background-secondary);
    border-color: var(--border-color);
}

[data-theme="dark"] .aspect-ratio-visualizer {
    background: var(--background-secondary);
    border-color: var(--border-color);
}

[data-theme="dark"] .visualizer-frame {
    background: var(--background-primary);
    border-color: var(--border-color);
}

[data-theme="dark"] .info-item {
    background: var(--background-primary);
    border-color: var(--border-color);
}

[data-theme="dark"] .faq-section {
    background: var(--background-secondary);
}

[data-theme="dark"] .faq-item {
    background: var(--background-card);
    border-color: var(--border-color);
}

[data-theme="dark"] .faq-answer {
    background: var(--background-primary);
    border-color: var(--border-color);
}
</style>

<!-- JavaScript for Interactive Ratio Selection -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // 等待页面完全加载后初始化交互功能
    initializeRatioButtons();
});

function initializeRatioButtons() {
    // 获取所有比例按钮
    const ratioButtons = document.querySelectorAll('.use-ratio-btn');
    
    // 为每个按钮添加点击事件监听器
    ratioButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            handleRatioSelection(this);
        });
        
        // 添加键盘支持
        button.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                handleRatioSelection(this);
            }
        });
    });
}

function handleRatioSelection(button) {
    const width = parseInt(button.dataset.width);
    const height = parseInt(button.dataset.height);
    const ratio = button.dataset.ratio;
    
    // 显示选择反馈
    showSelectionFeedback(button);
    
    // 填入计算器输入框
    fillCalculatorInputs(width, height);
    
    // 滚动到计算器
    scrollToCalculator();
    
    // 记录分析数据（如果有分析系统）
    if (typeof gtag !== 'undefined') {
        gtag('event', 'ratio_selection', {
            'event_category': 'aspect_ratio_calculator',
            'event_label': ratio,
            'value': 1
        });
    }
}

function showSelectionFeedback(button) {
    // 添加选中状态
    button.classList.add('selected');
    
    // 创建成功提示
    const feedback = document.createElement('div');
    feedback.className = 'selection-feedback';
    feedback.textContent = '✓ 已应用';
    
    button.appendChild(feedback);
    
    // 2秒后移除效果
    setTimeout(() => {
        button.classList.remove('selected');
        if (feedback.parentNode) {
            feedback.remove();
        }
    }, 2000);
}

function fillCalculatorInputs(width, height) {
    // 获取输入框元素
    const widthInput = document.querySelector('#original-width');
    const heightInput = document.querySelector('#original-height');
    
    if (widthInput && heightInput) {
        // 添加高亮效果
        widthInput.classList.add('auto-filled');
        heightInput.classList.add('auto-filled');
        
        // 填入数值
        widthInput.value = width;
        heightInput.value = height;
        
        // 触发计算（如果存在计算器实例）
        if (typeof window.aspectRatioCalculator !== 'undefined' && window.aspectRatioCalculator.calculate) {
            window.aspectRatioCalculator.calculate();
        } else {
            // 触发 input 事件以启动计算
            widthInput.dispatchEvent(new Event('input', { bubbles: true }));
            heightInput.dispatchEvent(new Event('input', { bubbles: true }));
        }
        
        // 3秒后移除高亮效果
        setTimeout(() => {
            widthInput.classList.remove('auto-filled');
            heightInput.classList.remove('auto-filled');
        }, 3000);
    }
}

function scrollToCalculator() {
    // 查找计算器元素
    const calculator = document.querySelector('.aspect-ratio-calculator-tool');
    
    if (calculator) {
        // 平滑滚动到计算器
        calculator.scrollIntoView({ 
            behavior: 'smooth', 
            block: 'center' 
        });
        
        // 添加短暂的焦点效果
        calculator.style.transition = 'box-shadow 0.3s ease';
        calculator.style.boxShadow = '0 0 20px rgba(0, 123, 255, 0.3)';
        
        setTimeout(() => {
            calculator.style.boxShadow = '';
        }, 1500);
    }
}

// 导出函数供其他脚本使用
if (typeof window !== 'undefined') {
    window.aspectRatioButtons = {
        initialize: initializeRatioButtons,
        handleSelection: handleRatioSelection
    };
}
</script>